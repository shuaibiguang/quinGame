<!DOCTYPE html>
<html>
<head>
	<title>组件</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<script src="js/quintus.js"></script>
</head>
<body>

<script>
	var Q = Quintus().include("Sprites,Scenes,2D,Input");
	Q.component("pistol",{
		added:function(){
			this.entity.p.ammo = 30;
		},
		refillAmmo:function(){
			this.entity.p.ammo = 60;
		},
		extend:{
			fire:function(){
				if(this.p.ammo > 0){
					this.p.ammo -=1;
					console.log("Fire!");
				}
			}
		}
	});

	Q.Sprite.extend("Player");
	var player = new Q.Player();
	player.add("pistol");
	player.fire();
	player.pistol.refillAmmo();
</script>	
</html>